(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{310:function(e,n,t){"use strict";var r=t(4),a=t.n(r),o=t(5),i=t.n(o),c=t(7),u=t.n(c),l=t(8),s=t.n(l),f=t(2),p=t.n(f),d=t(0),m=t.n(d),g=t(102),h=t(11),v=t.n(h);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){v()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b={user:{}};function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){v()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O={pedidos:[]},j=Object(g.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN_USER":return E({},e,{user:n.user});case"HIDE_LOADER":return E({},e,{loader:!1});default:return e}},pedidos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_PEDIDOS":return w({},e,{pedidos:n.pedidos});default:return e}}}),P=t(275),S=function(){return Object(g.d)(j,Object(g.a)(P.a))},R=t(41),T=t(273),k=t(18),z=t.n(k),D=t(269),C=t(212),_=t(498),V=t(308),A=t(312),I=t(15),L=t.n(I),F=t(16);function B(){var e=L()(["\n  background-color: #3a547c;\n  height: 72px;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n"]);return B=function(){return e},e}function N(){var e=L()(["\n  background-color: #3a547c;\n  height: 72px;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n"]);return N=function(){return e},e}var U=F.a.View(N()),H=(F.a.Text(B()),t(49)),G=t(496),W=t(499);function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var M=function(e){u()(r,e);var n,t=(n=r,function(){var e,t=p()(n);if(J()){var r=p()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s()(this,e)});function r(e){return a()(this,r),t.call(this,e)}return i()(r,[{key:"render",value:function(){var e=this.props.props.navigation;return m.a.createElement(U,null,m.a.createElement(H.a,{onPress:function(){return e.toggleDrawer()}},m.a.createElement(G.a,{style:{marginLeft:20,marginTop:14},name:"menu",color:"#ffffff",size:25})),m.a.createElement(H.a,{onPress:function(){return e.toggleDrawer()}},m.a.createElement(W.a,{style:{marginRight:20,marginTop:14},name:"user-circle",color:"#ffffff",size:25})))}}]),r}(d.Component),Y=Object(R.b)(null,null)(M),q=t(6),K=t(39),Z=t(86);function Q(){var e=L()(["\n  font-size: 20px;\n  justify-content: center;\n  padding-top: 180px;\n  text-align: center;\n"]);return Q=function(){return e},e}function X(){var e=L()(["\n  width: 7px;\n  height: 7px;\n  border-radius: 7px;\n  align-self: center;\n  margin-right: 4px;\n"]);return X=function(){return e},e}function $(){var e=L()(["\n  color: white;\n  font-size: 13px;\n"]);return $=function(){return e},e}function ee(){var e=L()(["\n  width: 75px;\n  height: 30px;\n  background-color: green;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  margin-right: 20px;\n"]);return ee=function(){return e},e}function ne(){var e=L()(["\n  align-self: flex-end;\n  justify-content: flex-end;\n  color: #3a547c;\n  font-size: 16px;\n"]);return ne=function(){return e},e}function te(){var e=L()(["\n  height: 1px;\n  background-color: #e2eff3;\n  margin-bottom: 5%;\n"]);return te=function(){return e},e}function re(){var e=L()(["\n  padding: 6%;\n  color: #3a547c;\n  font-weight: bold;\n  font-size: 19px;\n"]);return re=function(){return e},e}function ae(){var e=L()(["\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return ae=function(){return e},e}function oe(){var e=L()(["\n  color: #3a547c;\n  font-size: 14px;\n  font-weight: bold;\n"]);return oe=function(){return e},e}function ie(){var e=L()(["\n  padding: 3% 7%;\n  color: #3a547c;\n  font-size: 14px;\n"]);return ie=function(){return e},e}function ce(){var e=L()(["\n  width: 365px;\n  height: 610px;\n  border-radius: 9px;\n  margin-top: 23px;\n  background-color: white;\n  shadow-color: #bbc9cd;\n  shadow-offset: 0px 0px;\n  shadow-opacity: 0.8;\n  shadow-radius: 10px;\n  align-self: center;\n"]);return ce=function(){return e},e}function ue(){var e=L()(["\n  flex: 1;\n"]);return ue=function(){return e},e}var le=F.a.View(ue()),se=F.a.View(ce()),fe=F.a.Text(ie()),pe=F.a.Text(oe()),de=F.a.View(ae()),me=F.a.Text(re()),ge=F.a.View(te()),he=(F.a.Text(ne()),F.a.TouchableOpacity(ee())),ve=F.a.Text($()),xe=F.a.View(X()),Ee=F.a.Text(Q()),be=function(e){e.navigation;var n=e.pedidos,t=e.detailId,r=(e.fontColor,e.colores),a=n.pedidos;return m.a.createElement(le,null,m.a.createElement(se,null,m.a.createElement(me,null,"Pedidos"),m.a.createElement(ge,null),m.a.createElement(K.a,null,a.length?a.map((function(e){return m.a.createElement(de,{key:e.orden_id},m.a.createElement(q.a,{style:{flexDirection:"row",width:100}},m.a.createElement(xe,{style:{marginLeft:20,backgroundColor:r(e.estado)}}),m.a.createElement(pe,null,"Pr\xf3ximo a entregarse"===e.estado?"Prox. a entregar":e.estado)),m.a.createElement(H.a,{onPress:function(){return Z.a.openURL("https://www.google.com/maps/dir/?api=1&destination="+e.calle+"+"+e.altura+"+"+e.localidad)}},m.a.createElement(fe,null,e.calle," ",e.altura)),m.a.createElement(q.a,null,m.a.createElement(he,{onPress:function(){t(e)}},m.a.createElement(ve,null,e.orden_id))))})):m.a.createElement(Ee,null,"\xa1No hay pedidos!"))))},ye=t(57),we=t.n(ye),Oe=function(e,n){return function(t){return we.a.get("https://shipro.pro/api/ar/envios/"+e,{headers:{Authorization:"Bearer "+n}}).then((function(e){t({type:"FETCH_PEDIDOS",pedidos:e.data})})).catch((function(e){return console.log(e)}))}},je=Object(R.b)((function(e){return{user:e.user,pedidos:e.pedidos,state:e}}),(function(e){return{pedidosRepartidor:function(n,t){return e(Oe(n,t))}}}))((function(e){var n=e.navigation,t=e.pedidos,r=e.user,a=e.pedidosRepartidor;Object(d.useEffect)((function(){a(r.user.id,r.user.token)}),[]);return m.a.createElement(q.a,null,m.a.createElement(be,{navigation:n,colores:function(e){return"Pr\xf3ximo a entregarse"===e?"#72E273":"Pendiente"===e?"#F60202":"En ruta"===e?"#EAE604":"Recoordinar"===e?"#F39403":"Entregado"===e?"#109E2E":void 0},pedidos:t,detailId:function(e){n.navigate("Detail",{order:e})}}))})),Pe=t(21),Se=t.n(Pe),Re=t(497);function Te(){var e=L()([""]);return Te=function(){return e},e}function ke(){var e=L()(["\n  padding: 12px 0;\n  margin-left: 4px;\n  color: #3a547c;\n  font-size: 16px;\n  font-weight: bold;\n"]);return ke=function(){return e},e}function ze(){var e=L()(["\n  font-size: 14px;\n  color: #3a547c;\n"]);return ze=function(){return e},e}function De(){var e=L()(["\n  font-size: 14px;\n  font-weight: bold;\n"]);return De=function(){return e},e}function Ce(){var e=L()(["\n  border-radius: 6px;\n  width: 95%;\n  height: 100%;\n  margin-left: 20px;\n  padding: 0 15px;\n  justify-content: center;\n"]);return Ce=function(){return e},e}function _e(){var e=L()(["\n  width: 100%;\n  height: 35px;\n  margin-left: 30px;\n  padding: 0 15px;\n  background-color: #e7e7e7;\n  justify-content: center;\n  align-items: flex-start;\n"]);return _e=function(){return e},e}function Ve(){var e=L()(["\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 15px;\n"]);return Ve=function(){return e},e}function Ae(){var e=L()(["\n  color: white;\n  font-size: 17px;\n"]);return Ae=function(){return e},e}function Ie(){var e=L()(["\n  align-self: flex-end;\n  background-color: #3a547c;\n  width: 50%;\n  height: 50px;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 0px;\n"]);return Ie=function(){return e},e}function Le(){var e=L()(["\n  align-self: flex-start;\n  background-color: #b0b0b0;\n  width: 50%;\n  height: 50px;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 0px;\n"]);return Le=function(){return e},e}function Fe(){var e=L()(["\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n"]);return Fe=function(){return e},e}function Be(){var e=L()(["\n  background-color: #3a547c;\n  width: 135px;\n  height: 40px;\n  border-radius: 6px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 30px;\n  margin-top: 15px;\n"]);return Be=function(){return e},e}function Ne(){var e=L()(["\n  align-self: center;\n  justify-content: flex-end;\n  color: #3a547c;\n  font-size: 16px;\n"]);return Ne=function(){return e},e}function Ue(){var e=L()(["\n  height: 1.5px;\n  background-color: #e2eff3;\n  margin-bottom: 3%;\n"]);return Ue=function(){return e},e}function He(){var e=L()(["\n  padding: 6% 9%;\n  color: #3a547c;\n  font-weight: bold;\n  font-size: 20px;\n"]);return He=function(){return e},e}function Ge(){var e=L()(["\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n"]);return Ge=function(){return e},e}function We(){var e=L()(["\n  padding: 12px 0;\n  margin-left: 30px;\n  margin-right: 5px;\n  color: #3a547c;\n  font-size: 16px;\n  font-weight: bold;\n"]);return We=function(){return e},e}function Je(){var e=L()(["\n  padding: 12px 0;\n  color: #3a547c;\n  font-size: 16px;\n"]);return Je=function(){return e},e}function Me(){var e=L()(["\n  flex-direction: row;\n  width: 210px;\n"]);return Me=function(){return e},e}function Ye(){var e=L()(["\n  width: 86%;\n  height: 92%;\n  border-radius: 9px;\n  background-color: white;\n  shadow-color: #bbc9cd;\n  shadow-offset: 0px 0px;\n  shadow-opacity: 0.8;\n  shadow-radius: 10px;\n  align-self: center;\n"]);return Ye=function(){return e},e}function qe(){var e=L()(["\n  flex: 1;\n  justify-content: center;\n"]);return qe=function(){return e},e}var Ke=F.a.View(qe()),Ze=F.a.View(Ye()),Qe=F.a.View(Me()),Xe=F.a.Text(Je()),$e=F.a.Text(We()),en=F.a.View(Ge()),nn=F.a.Text(He()),tn=F.a.View(Ue()),rn=(F.a.Text(Ne()),F.a.TouchableOpacity(Be())),an=F.a.Text(Fe()),on=F.a.TouchableOpacity(Le()),cn=F.a.TouchableOpacity(Ie()),un=F.a.Text(Ae()),ln=F.a.TouchableOpacity(Ve()),sn=F.a.TouchableOpacity(_e()),fn=F.a.View(Ce()),pn=F.a.Text(De()),dn=F.a.Text(ze()),mn=F.a.Text(ke()),gn=F.a.TouchableOpacity(Te()),hn=Object(R.b)((function(e){return{user:e.user,pedidos:e.pedidos,state:e}}),(function(e){return{pedidosRepartidor:function(n,t){return e(Oe(n,t))}}}))((function(e){var n=e.navigation,t=e.route,r=e.toggle,a=e.estadoCambio,o=e.newState,i=e.handleSubmit,c=e.open,u=e.fontColor,l=e.colores,s=t.params.order;return m.a.createElement(Ke,null,m.a.createElement(Ze,null,m.a.createElement(nn,null,"Pedido nro ",s.orden_id),m.a.createElement(tn,null),m.a.createElement(K.a,null,m.a.createElement(en,null,m.a.createElement(q.a,null,c?[{estado:"Pendiente",key:1},{estado:"En ruta",key:2},{estado:"Pr\xf3ximo a entregarse",key:3},{estado:"Recoordinar",key:4}].map((function(e){return m.a.createElement(q.a,{key:e.key},m.a.createElement(sn,{onPress:function(){a(e.estado),r(!c)}},e.estado===o?m.a.createElement(dn,{style:{fontWeight:"bold"}},e.estado):m.a.createElement(dn,null,e.estado)))})):m.a.createElement(ln,{onPress:function(){return r(!c)}},m.a.createElement(fn,{style:{backgroundColor:l(o)}},m.a.createElement(pn,{style:{color:u(o)}},o)))),m.a.createElement(q.a,{style:{alignItems:"flex-end",justifyContent:"flex-end"}},m.a.createElement(rn,{onPress:function(){n.navigate("Signature",{orden:s.orden_id})}},m.a.createElement(an,null,"Solicitar firma"))),m.a.createElement(q.a,null,m.a.createElement(gn,{onPress:function(){Z.a.openURL("https://www.google.com/maps/dir/?api=1&destination="+s.calle+"+"+s.altura+"+"+s.localidad)}},m.a.createElement(Qe,{style:{paddingTop:10}},m.a.createElement($e,null,"Direcci\xf3n:"),m.a.createElement(Xe,null,s.calle," ",s.altura),m.a.createElement(Re.a,{style:{alignSelf:"center",color:"#3a547c",marginLeft:15},name:"map-pin",size:23}),m.a.createElement(mn,null,"IR"))),m.a.createElement(Qe,null,m.a.createElement($e,null,"Piso: "),m.a.createElement(Xe,null,s.piso),m.a.createElement($e,null,"Dpto: "),m.a.createElement(Xe,null,s.dpto)),m.a.createElement(Qe,null,m.a.createElement($e,null,"Provincia: "),m.a.createElement(Xe,null,s.provincia)),m.a.createElement(Qe,null,m.a.createElement($e,null,"Localidad: "),m.a.createElement(Xe,null,s.localidad)),m.a.createElement(Qe,null,m.a.createElement($e,null,"Recibe: "),m.a.createElement(Xe,null,s.nombre_destinatario)),m.a.createElement(Qe,null,m.a.createElement($e,null,"Documento: "),m.a.createElement(Xe,null,s.documento_destinatario)),m.a.createElement(Qe,null,m.a.createElement($e,null,"Tel\xe9fono: "),m.a.createElement(Xe,null,s.telefono_destinatario)),m.a.createElement($e,null,"Fecha y hora del pedido: "),m.a.createElement(Xe,{style:{marginLeft:30,marginTop:-15}},s.fecha_hora),m.a.createElement(Qe,{style:{marginBottom:70}},m.a.createElement($e,null,"Sucursal: "),m.a.createElement(Xe,null,s.sucursal.descripcion))))),m.a.createElement(on,{style:{borderBottomLeftRadius:9},onPress:function(){n.navigate("Root",{screen:"Shipro"})}},m.a.createElement(un,null,"Cancelar")),m.a.createElement(cn,{style:{borderBottomRightRadius:9},onPress:function(){return i()}},m.a.createElement(un,null,"Confirmar"))))})),vn=Object(R.b)((function(e){return{user:e.user,pedidos:e.pedidos,state:e}}),(function(e){return{pedidosRepartidor:function(n,t){return e(Oe(n,t))}}}))((function(e){var n=e.navigation,t=e.route,r=e.user,a=e.pedidosRepartidor,o=t.params.order,i="\xa1Hola  "+o.nombre_destinatario+"! Tu env\xedo n\xfamero "+o.orden_id+" est\xe1 en camino.",c=Object(d.useState)(!1),u=Se()(c,2),l=u[0],s=u[1],f=Object(d.useState)(o.estado),p=Se()(f,2),g=p[0],h=p[1];return m.a.createElement(hn,{handleSubmit:function(){var e={method:"POST",url:"https://shipro.pro/api/ar/actualizar-envios",data:{pedidos:[{orden_id:""+o.orden_id,nuevo_estado:""+g}]},headers:{Authorization:"Bearer "+r.user.token},json:!0};return we()(e).then((function(e){a(r.user.id,r.user.token).then((function(){"Pr\xf3ximo a entregarse"===g&&Z.a.openURL("whatsapp://send?text="+i+"&phone=549"+o.telefono_destinatario).then((function(){return n.navigate("Root",{screen:"Shipro"})})),n.navigate("Root",{screen:"Shipro"})}))})).catch((function(e){console.log(e.response)}))},newState:g,estadoCambio:function(e){h(e)},toggle:function(){return s(!l)},route:t,navigation:n,open:l,colores:function(e){return"Pr\xf3ximo a entregarse"===e?"#72E273":"Pendiente"===e?"#F60202":"En ruta"===e?"#EAE604":"Recoordinar"===e?"#F39403":"Entregado"===e?"#109E2E":void 0},fontColor:function(e){return"En ruta"===e||"Pr\xf3ximo a entregarse"===e?"#3a547c":"white"}})})),xn=t(14),En=t.n(xn),bn=t(101),yn=t(311);t(486);function wn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var On=function(e){u()(r,e);var n,t=(n=r,function(){var e,t=p()(n);if(wn()){var r=p()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s()(this,e)});function r(e){var n;return a()(this,r),(n=t.call(this,e)).handleSignature=function(e){var t=n.props.user.user,r={method:"POST",url:"https://shipro.proapi/ar/envio-completado",data:{envio_id:""+n.props.route.params.orden,firma:""+e},headers:{Authorization:"Bearer "+t.token},json:!0};return we()(r).then((function(e){n.props.pedidosRepartidor(t.id,t.token).then((function(){return bn.a.alert("Firma enviada correctamente",'El estado de env\xedo fue cambiado a "Entregado".',[{text:"Aceptar",onPress:function(){return n.props.navigation.navigate("Shipro")}}],{cancelable:!1})}))})).catch((function(e){console.log(e.response)}))},n.handleSignature=n.handleSignature.bind(En()(n)),n}return i()(r,[{key:"render",value:function(){var e=this;return m.a.createElement(q.a,{style:{flex:1}},m.a.createElement(yn.a,{onOK:function(n){e.handleSignature(n)},onEmpty:function(){bn.a.alert("No se registr\xf3 una firma","Por favor, ingres\xe1 una firma para poder continuar.",[{text:"Aceptar",onPress:function(){return e.props.navigation.navigate("Root",{screen:"Signature"})}}],{cancelable:!1})},descriptionText:"Firma",clearText:"Reintentar",confirmText:"Confirmar",webStyle:".m-signature-pad--footer\n            .button {\n              background-color: #3a547c;\n              width:49%;\n              border-radius:0px;\n              height: 100%;\n              color: #FFF;\n              font-size: 15px;\n          }",autoClear:!0,imageType:"image/svg+xml"}))}}]),r}(m.a.Component),jn=Object(R.b)((function(e){return{user:e.user,pedidos:e.pedidos,state:e}}),(function(e){return{pedidosRepartidor:function(n,t){return e(Oe(n,t))}}}))(On);function Pn(){var e=L()(["\n  font-size: 14px;\n  color: #3a547c;\n  margin: 0 17px 10px 17px;\n"]);return Pn=function(){return e},e}function Sn(){var e=L()(["\n  height: 0.5px;\n  width: 100%;\n  background-color: #3a547c;\n  margin-top: 15px;\n"]);return Sn=function(){return e},e}function Rn(){var e=L()(["\n  margin: 25px 15px 17px 17px;\n"]);return Rn=function(){return e},e}function Tn(){var e=L()(["\n  font-size: 17px;\n  color: #3a547c;\n"]);return Tn=function(){return e},e}function kn(){var e=L()(["\n  font-size: 17px;\n  font-weight: bold;\n  color: #3a547c;\n"]);return kn=function(){return e},e}var zn=F.a.Text(kn()),Dn=F.a.Text(Tn()),Cn=F.a.View(Rn()),_n=F.a.View(Sn()),Vn=F.a.Text(Pn()),An=Object(_.a)(),In=Object(D.a)();function Ln(e){return m.a.createElement(V.a,e,m.a.createElement(Cn,null,m.a.createElement(Dn,null,"\xa1Hola"),m.a.createElement(zn,null,e.user.user.username+"!"),m.a.createElement(_n,null)),m.a.createElement(A.a,{label:"Inicio",onPress:function(){return e.navigation.navigate("Root",{screen:"Shipro"})}}),m.a.createElement(Vn,null,"Por favor, desactivate cuando ya no est\xe9s disponible para trabajar."),m.a.createElement(A.a,{label:"Desactivar",onPress:function(){return we.a.get("https://shipro.pro/api/ar/inactivo/"+e.user.user.id,{headers:{Authorization:"Bearer "+e.user.user.token}}).then((function(n){e.navigation.navigate("Active",e)})).catch((function(e){return console.log(e)}))}}))}function Fn(e){return m.a.createElement(In.Navigator,{initialRouteName:"Shiprop",screenOptions:{gestureEnabled:!1}},m.a.createElement(In.Screen,{name:"Shipro",component:je,options:{header:function(){return m.a.createElement(Y,{props:e})}}}),m.a.createElement(In.Screen,{name:"Detail",component:vn,options:{header:function(){return m.a.createElement(Y,{props:e})}}}),m.a.createElement(In.Screen,{name:"Signature",component:jn,options:{cardStyleInterpolator:C.a.forVerticalIOS,header:function(){return m.a.createElement(Y,{props:e})}}}))}var Bn=Object(R.b)(null,null)((function(e){var n=e.user;return m.a.createElement(An.Navigator,{headerMode:"none",initialRouteName:"Shipro",drawerType:"slide",drawerStyle:{width:200},drawerContent:function(e){return m.a.createElement(Ln,z()({},e,{user:n}))}},m.a.createElement(An.Screen,{name:"Root",component:Fn}))}));function Nn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Un=function(e){u()(r,e);var n,t=(n=r,function(){var e,t=p()(n);if(Nn()){var r=p()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s()(this,e)});function r(e){return a()(this,r),t.call(this,e)}return i()(r,[{key:"render",value:function(){return m.a.createElement(Bn,{user:this.props.state.user})}}]),r}(d.Component),Hn=Object(R.b)((function(e){return{user:e.user,state:e}}),null)(Un);function Gn(){var e=L()(["\n  color: #fff;\n  font-weight: 600;\n  font-size: 15px;\n  text-align: center;\n"]);return Gn=function(){return e},e}function Wn(){var e=L()(["\n  height: 40px;\n  background-color: #3a547c;\n  width: 280px;\n  border-radius: 9px;\n  padding-horizontal: 10px;\n  align-items: center;\n  justify-content: center;\n"]);return Wn=function(){return e},e}function Jn(){var e=L()(["\n  font-size: 20px;\n  padding-bottom: 20px;\n  color: #000;\n"]);return Jn=function(){return e},e}function Mn(){var e=L()(["\n  height: 40px;\n  background-color: #e7e7e7;\n  margin-bottom: 20px;\n  color: #2c3e50;\n  width: 280px;\n  border-radius: 9px;\n  padding-horizontal: 10px;\n"]);return Mn=function(){return e},e}function Yn(){var e=L()(["\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Yn=function(){return e},e}var qn=F.a.View(Yn()),Kn=F.a.TextInput(Mn()),Zn=F.a.Text(Jn()),Qn=F.a.TouchableHighlight(Wn()),Xn=F.a.Text(Gn()),$n=function(e){return m.a.createElement(qn,null,m.a.createElement(Zn,null,"Iniciar sesi\xf3n"),m.a.createElement(Kn,{placeholder:"Usuario",name:"username",autoCapitalize:"none",onChangeText:function(n){return e.handleUsername(n)}}),m.a.createElement(Kn,{secureTextEntry:!0,placeholder:"Contrase\xf1a",name:"password",onChangeText:function(n){return e.handlePassword(n)}}),m.a.createElement(Qn,{onPress:e.handleSubmit},m.a.createElement(Xn,null,"Confirmar")))},et=t(56);function nt(){var e=L()(["\n  width: 100%;\n  height: 100%;\n  background-color: #3a547c;\n  justify-content: center;\n  align-items: center;\n"]);return nt=function(){return e},e}var tt=F.a.View(nt()),rt=function(){return m.a.createElement(tt,null,m.a.createElement(et.a,{style:{resizeMode:"contain",height:100,width:300},source:t(484)}))},at=Object(R.b)((function(e){return{user:e.user,state:e}}),(function(e){return{login:function(n,t){return e(function(e,n){return function(t){return we.a.post("https://shipro.pro/oauth/token",{grant_type:"password",client_id:"5",client_secret:"963GYL9ByC0xvtVCZovAPGkfvidvJtzUlR12HW3q",username:e,password:n}).then((function(e){var n=e.data;if(n)return we.a.post("https://shipro.pro/api/ar/user",n,{headers:{Authorization:"Bearer "+n.access_token}}).then((function(e){var r=e.data;r.token=n.access_token,t({type:"LOGIN_USER",user:r})}))})).catch((function(e){return console.log("ERR.MESSAGE",e),e}))}}(n,t))}}}))((function(e){var n=e.navigation,t=e.login,r=Object(d.useState)(""),a=Se()(r,2),o=a[0],i=a[1],c=Object(d.useState)(""),u=Se()(c,2),l=u[0],s=u[1],f=Object(d.useState)(!0),p=Se()(f,2),g=p[0],h=p[1];Object(d.useEffect)((function(){setTimeout((function(){h(!1)}),2e3)}));return m.a.createElement(q.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},g?m.a.createElement(rt,null):m.a.createElement(q.a,null,m.a.createElement($n,{handleSubmit:function(){t(o,l).then((function(e){e?bn.a.alert("Informaci\xf3n incorrecta","Usuario y/o contrase\xf1a incorrectos.",[{text:"Aceptar",onPress:function(){return n.navigate("Login")}}],{cancelable:!1}):n.navigate("Active")}))},handlePassword:function(e){s(e)},handleUsername:function(e){i(e)}})))}));function ot(){var e=L()(["\n  color: #fff;\n  font-weight: 600;\n  font-size: 15px;\n  text-align: center;\n  justify-content: center;\n"]);return ot=function(){return e},e}function it(){var e=L()(["\n  padding: 3% 17%;\n  margin-top: 25px;\n  background-color: #3a547c;\n  border-radius: 9px;\n  align-self: center;\n"]);return it=function(){return e},e}function ct(){var e=L()(["\n  font-size: 13px;\n  padding-bottom: 20px;\n  color: #000;\n  margin-top: 73%;\n  text-align: center;\n  justify-content: center;\n  padding: 0 15%;\n"]);return ct=function(){return e},e}function ut(){var e=L()([""]);return ut=function(){return e},e}var lt=F.a.View(ut()),st=F.a.Text(ct()),ft=F.a.TouchableOpacity(it()),pt=F.a.Text(ot()),dt=function(e){var n=e.Navig;return m.a.createElement(lt,null,m.a.createElement(q.a,{styles:{justifyContent:"center",alignItems:"center"}},m.a.createElement(st,null,"Por favor, ingres\xe1 a la aplicaci\xf3n solo cuando est\xe9s disponible para trabajar."),m.a.createElement(ft,{onPress:function(){return n()}},m.a.createElement(pt,null,"Estoy activo"))))},mt=Object(R.b)((function(e){return{user:e.user,pedidos:e.pedidos,state:e}}),null)((function(e){var n=e.navigation,t=e.user;return m.a.createElement(q.a,null,m.a.createElement(dt,{navigation:n,Navig:function(){return we.a.get("https://shipro.pro/api/ar/activo/"+t.user.id,{headers:{Authorization:"Bearer "+t.user.token}}).then((function(e){return n.navigate("Root",{screen:"Shipro"})})).catch((function(e){return console.log(e)}))}}))}));function gt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}t.d(n,"a",(function(){return xt}));var ht=S(),vt=Object(D.a)(),xt=function(e){u()(r,e);var n,t=(n=r,function(){var e,t=p()(n);if(gt()){var r=p()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s()(this,e)});function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"render",value:function(){return console.disableYellowBox=!0,m.a.createElement(R.a,{store:ht},m.a.createElement(T.a,null,m.a.createElement(vt.Navigator,null,m.a.createElement(vt.Screen,{name:"Login",component:at,options:{header:function(){return null}}}),m.a.createElement(vt.Screen,{name:"Active",component:mt,options:{header:function(){return null}}}),m.a.createElement(vt.Screen,{name:"Root",component:Hn,options:{header:function(){return null}}}))))}}]),r}(d.Component)},320:function(e,n,t){t(321),e.exports=t(485)},321:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},484:function(e,n,t){e.exports=t.p+"static/media/shipro.720cc555.png"}},[[320,1,2]]]);
//# sourceMappingURL=app.74f2d891.chunk.js.map